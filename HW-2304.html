<!DOCTYPE html>
<html lang="en">
  <!--
        QUIZ GAME!

        RULES:
        / The player must guess correctly a certain amount of questions
        / Each correct answer gives him one point
        / Answers could be multiple or true/false
        / At the end of the game, the user must know his total score

        QUESTIONS:
        / You can get them from this URL ( http://bit.ly/strive_QUIZZ ) or you can write your own
        / Could be multiple of boolean (true / false)
        / [EXTRA] Show if the answer was wrong or correct after clicking
        / [EXTRA] Present them one a time

        HINTS:
        / Keep a global variable score for the score
        / Keep a variable questionNumber for the question the user is answering
        / When questionNumber is bigger then the available questions, present the score
        / Start working with the question saved in a variable, and then include AJAX etc
        / Start with the easier version and THEN implement the EXTRAs
        / Please debug everything / try it on the console to be sure of what to expect from your code

        EXTRA:
        / Show if the answer was wrong or correct after clicking
        / Present questions one a time
        / Let the user select difficulty and number of questions (you can get q/a from https://opentdb.com/api.php?amount=10&category=18&difficulty=easy modifying amount and difficulty)

    -->

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>POP QUIZ!</title>

    <style>

      body {
        text-align: center;
      }

      td {
        text-align: center;
      }

      table {
        margin-left: auto;
        margin-right: auto;
      }

      .questionOptions {
        border: solid;
        font-size: 20px;
        text-align: center;
        color: rgb(255, 255, 255);
        text-shadow: 1px 1px 1px rgba(182, 73, 245, 0.336);
        background-color: rgb(137, 106, 209);
        height: 100px;
        width: 450px;
        margin: auto;
      }

      .selected {
        border: solid;
        color:rgb(137, 106, 209);
        background-color: rgb(255, 255, 255);
        border-width: 2px;

      }

      #submit {
        border: solid;
        font-size: 20px;
        text-align: center;
        color: rgb(193, 233, 15);
        background-color: rgb(255, 255, 255);
        height: 50px;
        width: 200px;

      }

      .rightAnswerSubmit{
        border: solid;
        color:rgb(255, 255, 255);
        background-color: rgba(8, 252, 41, 0.829);
        border-width: 2px;

      }

      .wrongAnswerSubmit{
        border: solid;
        color:rgb(255, 255, 255);
        background-color: rgb(253, 7, 7);
        border-width: 2px;

      }





    </style>
  </head>
  <body>
    <div id="quizTitle"/> 
      <h1>POP QUIZ!</h1>
    </div>

    <br />

    <div>
      <h2 id="questionTitle">QUESTION TITLE</h2>
    </div>

    <br />

    <div id="questions">
      <table>
        <tr>
          <td>
            <button id="question1" class="questionOptions" type="button">Question Answer One </button>
          </td>
          <td>
            <button id="question2" class="questionOptions" type="button" >Question Answer Two </button>
          </td>
        </tr>
        <tr id="hiddenOptions">
          <td>
            <button id="question3" class="questionOptions" type="button" >Question Answer Three </button>
          </td>
          <td>
            <button id="question4" class="questionOptions" type="button" >Question Answer Four </button>
          </td>
        </tr>
      </table>
    </div>

    <br/>
    <br/>


    <div id="submitAnswer">
      <button id="submit" type="button">Next Question</button>
    </div>


    <script>
      var questionStore = [
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question: "What does CPU stand for?",
          correct_answer: ["Central Processing Unit"],
          incorrect_answers: [
            "Central Process Unit",
            "Computer Personal Unit",
            "Central Processor Unit",
          ],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question:
            "In the programming language Java, which of these keywords would you put on a variable to make sure it doesn&#039;t get modified?",
          correct_answer: ["Final"],
          incorrect_answers: ["Static", "Private", "Public"],
        },
        {
          category: "Science: Computers",
          type: "boolean",
          difficulty: "easy",
          question: "The logo for Snapchat is a Bell.",
          correct_answer: ["False"],
          incorrect_answers: ["True"],
        },
        {
          category: "Science: Computers",
          type: "boolean",
          difficulty: "easy",
          question:
            "Pointers were not used in the original C programming language; they were added later on in C++.",
          correct_answer: ["False"],
          incorrect_answers: ["True"],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question:
            "What is the most preferred image format used for logos in the Wikimedia database?",
          correct_answer: [".svg"],
          incorrect_answers: [".png", ".jpeg", ".gif"],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question: "In web design, what does CSS stand for?",
          correct_answer: ["Cascading Style Sheet"],
          incorrect_answers: [
            "Counter Strike: Source",
            "Corrective Style Sheet",
            "Computer Style Sheet",
          ],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question:
            "What is the code name for the mobile operating system Android 7.0?",
          correct_answer: ["Nougat"],
          incorrect_answers: [
            "Ice Cream Sandwich",
            "Jelly Bean",
            "Marshmallow",
          ],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question: "On Twitter, what is the character limit for a Tweet?",
          correct_answer: ["140"],
          incorrect_answers: ["120", "160", "100"],
        },
        {
          category: "Science: Computers",
          type: "boolean",
          difficulty: "easy",
          question: "Linux was first created as an alternative to Windows XP.",
          correct_answer: ["False"],
          incorrect_answers: ["True"],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question:
            "Which programming language shares its name with an island in Indonesia?",
          correct_answer: ["Java"],
          incorrect_answers: ["Python", "C", "Jakarta"],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question: "Which company was established on April 1st, 1976 by Steve Jobs, Steve Wozniak and Ronald Wayne?",
          correct_answer: ["Apple"],
          incorrect_answers: ["Microsoft","Atari","Commodore"],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question: "What does the 'MP' stand for in MP3?",
          correct_answer: ["Moving Picture"],
          incorrect_answers: ["Music Player","Multi Pass","Micro Point"],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question: "According to the International System of Units, how many bytes are in a kilobyte of RAM?",
          correct_answer: ["1000"],
          incorrect_answers: ["512","1024","500"],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question: "What does GHz stand for?",
          correct_answer: ["Gigahertz"],
          incorrect_answers: ["Gigahotz","Gigahetz","Gigahatz"],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question: "In the programming language Java, which of these keywords would you put on a variable to make sure it doesn't get modified?",
          correct_answer: ["Final"],
          incorrect_answers: ["Static","Private","Public"],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question: "What is the most preferred image format used for logos in the Wikimedia database?",
          correct_answer: [".svg"],
          incorrect_answers: [".png",".jpeg",".gif"],
        },
        {
          category: "Science: Computers",
          type: "boolean",
          difficulty: "easy",
          question: "The Windows ME operating system was released in the year 2000.",
          correct_answer: ["true"],
          incorrect_answers: ["false"],
        },
        {
          category: "Science: Computers",
          type: "boolean",
          difficulty: "easy",
          question: "The Windows 7 operating system has six main editions.",
          correct_answer: ["True"],
          incorrect_answers: ["False"],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question: "On Twitter, what was the original character limit for a Tweet?",
          correct_answer: ["140"],
          incorrect_answers: ["120","160","100"],
        },
        {
          category: "Science: Computers",
          type: "multiple",
          difficulty: "easy",
          question: "This mobile OS held the largest market share in 2012.",
          correct_answer: ["iOS"],
          incorrect_answers: ["Android","BlackBerry","Symbian"],
        },
      ];

      // create array of random question gen to choose 10 questions
      const quizQuestionArray = [];

      function questionArray() {
        
        
          for (let x = 0; x<10; x++){

          let randNum_index;
            
            while (!randNum_index){
              let randNum = Math.floor(Math.random() * questionStore.length);
              if (!quizQuestionArray.filter((d) => questionStore[randNum] == d).length)

              randNum_index = randNum;

            }

            quizQuestionArray.push(questionStore[randNum_index]);
        
          //  //need to make number unique
          
          // console.log(randNum)

          // let selectedQuestion = questionStore[randNum]

          

          // let sameQuestionCheck = quizQuestionArray.indexOf(selectedQuestion)

          // console.log(sameQuestionCheck)
          
          // let newRand = Math.floor(Math.random() * ((questionStore.length)-1) + 1 )

          // if (sameQuestionCheck > -1){
            
          //   selectedQuestion = questionStore[newRand]

          // }
          
          // console.log(selectedQuestion)

          // quizQuestionArray.push(selectedQuestion)

          // //get question using rndnum
        }
        
      }

      const popQ = questionArray()
      console.log(quizQuestionArray);

      // choose question from array to display question in each question box

      function addQuestion() {
        //for loop for 10 questions
        let questionNumberValue = quizQuestionArray[0] // question being used is x

        const questionHead = document.getElementById('questionTitle') // gets question header element

        questionHead.innerHTML = quizQuestionArray[0].question // assigns question text to question module

      }
      
      const questionTitleInput = addQuestion()

      // RANDOMISE ANSWERS FOR EACH QUESTION AND REMOVE BOXES FOR BOOLEAN

      let answerArray

      const rightAns = quizQuestionArray[0].correct_answer
      const incorrectAns = quizQuestionArray[0].incorrect_answers

      function addAnswers(answerArray) {

        answerArray = rightAns.concat(incorrectAns)
        console.log(answerArray)


        for (let z = answerArray.length - 1; z > 0; z--) {
        let rand = Math.floor(Math.random() * (z + 1)); // random index from 0 to i
        [answerArray[z], answerArray[rand]] = [answerArray[rand], answerArray[z]];
          }

          console.log(answerArray)

        const eachAnswerOption = document.getElementsByClassName('questionOptions') // array of question boxes

        for (let k=0; k < answerArray.length; k++){
          eachAnswerOption[k].innerHTML = answerArray[k]
        }

        let booleanOrNot = quizQuestionArray[0].type

        if (booleanOrNot === "boolean") {
          let unUsed = document.getElementById("hiddenOptions")

              unUsed.style.visibility = "collapse";
          }

        }
        // question selected question property

      

      const questionBoxInput = addAnswers()

      console.log("right answer:", rightAns)




// function removes all selected from class and adds selected to selected option

      function toggleSelected (eventID){
        let allButtons = document.getElementsByClassName("questionOptions")

        for (let o = 0; o < allButtons.length; o++){
          let selectedCheck = allButtons[o]
          selectedCheck.classList.remove('selected')
        }

        let chosenButton = document.getElementById(eventID)

        chosenButton.classList.toggle('selected')

        console.log(chosenButton)

        return chosenButton

      }

      




      function giveMeValueOfButton(e, selectedButton){
           const clickedButton = e.target; // üëàüèª this is html element that you clicked
           const value = clickedButton.innerHTML;
           
           let selectedValue = value
           selectedButton = clickedButton// üëàüèª this is content of that element
         
           clickedButton.classList.toggle('selected')

           // remove selected class from others 
           const allOptionButtons = document.querySelectorAll(".questionOptions")
           allOptionButtons.forEach(button=>{
               // remove selected class from all buttons except clicked one
               if(button.id!==clickedButton.id){ 
                 button.classList.remove("selected")
               }
           })
           console.log("Clicked answer is ", value)


           
    }   

    // KEEP SCORE AND LOAD NEW QUESTION






          let chosenAnswerScore = []

          function keepScore(f) {
            selectedValue = f.HTML

            if(selectedValue === rightAns){
              chosenAnswerScore.push("1")
              f.classList.add("rightAnswer")

            } else {
            chosenAnswerScore.push("0")
              f.classList.add("wrongAnswer")
              let y = answerArray.indexOf("selectedValue")
              answerArray[y].classList.add("rightAnswer")

            } 
            return chosenAnswerScore





            }


      

      window.onload = function () {
          // find all buttons which has questionOptions as class
        const allOptionButtons = document.querySelectorAll(".questionOptions")

        // forEach button assign  giveMeValueOfButton üëàüèª this function to onclick 'event'
        allOptionButtons.forEach(function(button){
            button.onclick = giveMeValueOfButton // üëàüèª if its a click event e comes as default as first parameter
        })

        const submitB = document.querySelector("#submit")

        submitB.onclick = keepScore()

        console.log (chosenAnswerScore)
      }

      // console.log(selectedValue)


// console.log(chosenAnswerScore)








// when clicked carry out toggle selected,

//write function to select same function and use its value

// use selected class to identify object

//add event listener to selected object

// use this to get inner html and assign it to a value]

// compare value

      // const answerforSubmit = chosenButton

      // console.log(answerforSubmit)

      // answerforSubmit.addEventListener()

      // const submitB = document.getElementById("submit")

      // submitB.addEventListener ('click', answerCheck())

      // console.log(answerforSubmit)



      // let chosenAnswerScore = []
      
      // function answerCheck (chosenButton){
      //   const correctAnswer = rightAns[0]
      //   console.log(chosenButton)
      //   console.log(correctAnswer)

        

      //   let buttonSelected = chosenButton.innerHTML
      //   console.log(buttonSelected)
        
      //   let string = buttonSelected.toString()

      //   if (chosenButton.innerHTML === rightAns) {
      //     chosenAnswerScore.push("1")
      //   } else {
      //     chosenAnswerScore.push("0")
      //   }

      // }

      // console.log(chosenAnswerScore)


// TOGGLE NEW CLASS selected

// IF CLASS IS SELECTED GET VALUE FROM SELECETED Element

// IF VALUE IS EQUAL TO TRUE ELEMENT FIRST ELEMENT OF concat

// IF EQUAL TO FIRST VALUE OF CONCAT ADD ONE POINT TO SCORE









       // to store answers selected array 





      // when selected change css of button

      // collect answer input and compare to answer give score
      
      // create variable to collect score


      // window.onload = function () {
        
        //IF YOU ARE DISPLAYING ALL THE QUESTIONS TOGETHER:
        //HINT: for each question, create a container with the "question"
        //create a radio button https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/radio with, as option the both the correct answer and the incorrect answers
        //when EVERY question has an answer (google for how to get a value from a radio button with JS)
        //IF YOU ARE DISPLAYING ONE QUESTION AT A TIME
        //Display first question with a title + radio button
        //when the user select the answer, pick the next question and remove this from the page after added in a varible the users' choice.
      // };

      //HOW TO calculate the result
      //You can do it in 2 ways:
      //If you are presenting all questions together, just take all the radio buttons and check if the selected answer === correct_answer
      //If you are presenting one question at a time, just add one point or not to the user score if the selected answer === correct_answer
    </script>
  </body>
</html>
